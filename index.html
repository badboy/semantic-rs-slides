<!DOCTYPE html>
<html>
  <head>
    <title>Automated Crate publishing</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="public/custom.css" type="text/css" rel="stylesheet">
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Automatic Crate publishing

## ðŸš€ semantic-rs ðŸš€

### Rust Cologne/Bonn â€” 2016-02-03 â€” [@badboy_](https://twitter.com/badboy_)

---
class: center, middle

# Who am I?

## Student, Open Source Enthusiast, OTS Coach & Conf Organizer

???
Hi, ich bin Jan-Erik.
Ich studiere noch, aber nebenbei werkel ich auch an einigen Open Source Projekten mit
und coache bei der OpenTechSchool oder organisiere gleich eine ganze Konferenz.

Seit August 2014 spiele ich mit Rust rum und habe inzwischen 10 Libraries verÃ¶ffentlicht.
Und heute bin ich hier und spreche Ã¼ber mein 11. Projekt

---
class: center, middle

# Automatic Crate publishing

???

Es geht um voll-automatische Releases von Software

---
class: center, middle

# 3965 Crates


---
class: middle

# 0.0.1, 0.1.0, 0.1.10+20150618, 0.20130412.3, 0.2.3-alpha0, 1.0.0, 2.7.4

---
class: center, middle, huge

# ?.?.?

---
class: center, middle, nearly-huge

# [semver.org](http://semver.org/)

---
class: center, middle, huge

# X.Y.Z

---
class: center, middle, bigger

# MAJOR.MINOR.PATCH

---
class: center, middle, bigger

# MAJOR

## An incompatible API change

---
class: center, middle, bigger

# MINOR

## Added functionality in a backwards-compatible way

---
class: center, middle, bigger

# PATCH

## Bug fixes

---
class: middle, huge-code

```toml
[dependencies]
libc = "*"
```

---
class: middle, huge-code

```toml
[dependencies]
libc = "0.1.0"
```
---
class: middle, huge-code

```toml
[dependencies]
libc = "^0.1.0"
```
---
class: middle, huge-code

```toml
[dependencies]
libc = "&lt;1.0.0"
```

---
class: middle, center, nearly-huge

# Release Day

---
class: middle, bullets

1. Commit all code
2. Test it!
3. Document everything properly
4. Write a changelog
5. Bump the version
6. Tag & Publish

---
class: center, middle, bigger

# Tests are automated*
# Why not the rest?

.footnote[They are, right?]

---
class: center, middle, bigger

# `semantic-rs`

### by [@neinasaservice][] and me

[@neinasaservice]: https://twitter.com/neinasaservice

---

class: middle, center

# `semantic-release`

## fully automated package publishing

.footnote[The original idea for npm packages by [@boennemann](https://twitter.com/boennemann)]

---
class: middle, command

```bash
$ semantic-rs -p ~/code/my-project
semantic.rs ðŸš€
Analyzing your repository
Current version: 0.1.0
Analyzing commits
Commits analyzed. Bump would be Minor
New version would be: 0.2.0
Would write the following Changelog:
====================================
## v0.2.0 (2016-01-27)


#### Features

- A feature

====================================
Would create annotated git tag
```

---
class: middle, center, bigger

# Convention over configuration

---
class: bigger-code

# Commit message format*

```notrust
<type>(<scope>): <subject>

<body>
```
.footnote[[Angular.js commit message format](https://github.com/angular/angular.js/blob/master/CONTRIBUTING.md#commit-message-format)]

---
class: bigger-code, middle

```notrust
fix: Don't divide by 0
```
---
class: bigger-code, middle

```notrust
feat: Calculate square-root
```

---
class: bigger-code, middle

```notrust
feat: Handle floating-point 

BREAKING CHANGE: 
    This removes the handling 
    of 64-bit integers.
    This old code:

      mylib::sqrt(4);

    must be replaced with:

      mylib::sqrt(4.0);
```

---
class: center, middle, bigger

# `semantic-rs`

### by [@neinasaservice][] and me

[@neinasaservice]: https://twitter.com/neinasaservice

---
class: bullets, middle, center

# `semantic-rs v0.1.0`

* Version bump
* Changelog
* Commit & Tag

---
class: center, middle, bigger

# `cargo release`

---
class: middle, bigger-code

### `.travis.yml`
```notrust
after_success:
  - cargo release
```

---
class: bullets, bigger

# In the future

* Breaking Change Detection
* API diff

---
class: center, middle, bigger

# [git.io/semantic](https://git.io/semantic)

  </textarea>
    <script src="public/remark.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>
